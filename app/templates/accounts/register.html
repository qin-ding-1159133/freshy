{% extends "layouts/base.html" %} {% block title %} Register {% endblock %} {%
block stylesheets %}{% endblock stylesheets %} {% block content %} 
<section class="p-5">
    <div class="container d-flex flex-column">
      <div class="row align-items-center justify-content-center min-vh-100">
        <div class="col-md-6 col-lg-5 col-xl-5 py-6 py-md-0">
          <div class="card shadow zindex-100 mb-0 login-container">
            <div class="card-body px-md-5 py-5 login-container_content">
              <h1 class="mb-3 text-center">Register</h1>
              <p class="mb-5 text-center">
                <small
                  >Have an account?
                  <a
                    class="font-weight-bold login-link"
                    href="#" onclick="openLoginCanvas()"
                    >Login</a
                  ></small
                >
              </p>
              <script>
                function openLoginCanvas() {
                    // Find the login canvas offcanvas
                    var loginCanvas = document.getElementById('offcanvasLogin');
                    // Trigger the offcanvas to open
                    var offcanvas = new bootstrap.Offcanvas(loginCanvas);
                    offcanvas.show();
                }
              </script>
            
              <!--for member register-->
              <div class="mt-4">
                <button
                  type="button"
                  name="register"
                  value="Register"
                  class="btn btn-block login-button"
                  data-bs-toggle="modal" data-bs-target="#myModal"
                >
                  Sign Up As a Member
                </button>
              </div>
              {{msg}}
                 <!-- The Modal -->
                <div class="modal" id="myModal">
                   <div class="modal-dialog">
                        <div class="modal-content">

                   <!-- Modal Header -->
                            <div class="modal-header">
                               <h4 class="modal-title">Member Register</h4>
                               <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>

               <!-- Modal body -->
                            <div class="modal-body">
                                <div class="container mt-3">
                                    <form
                                       action="{{ url_for('register') }}"
                                       class="form row g-3 needs-validation"
                                       method="post" novalidate
                                    >
                                            <input name="role_type" value="Member" hidden />
                                        <div class="form-grop mb-0">
                                            <label class="form-label">Username</label>
                                            <div class="input-group mb-3">
                                               <span
                                                class="input-group-text"
                                                 id="basic-addon1"
                                                 ><i
                                                 class="bi bi-person"
                                                 style="font-size: 1.4rem"
                                                   ></i>
                                                  </span>
                                                    <input
                                                    type="text"
                                                    name="username"
                                                    id="username"
                                                    class="form-control"
                                                    placeholder="Username"
                                                    aria-label="Username"
                                                    aria-describedby="basic-addon1"
                                                    style="border-top-right-radius: 15px;
                                                    border-bottom-right-radius: 15px;"
                                                    required
                                                    />
                                            <div class="invalid-feedback"> Please enter the username. </div>
                                        </div>
  
                                        <label class="form-label">Password</label>
                                        <div class="input-group mb-3">
                                            <span
                                            class="input-group-text"
                                            id="basic-addon1"
                                            ><i
                                                class="bi bi-key"
                                                style="font-size: 1.4rem"
                                            ></i>
                                            </span>
                                            <input
                                            type="password"
                                            name="password1"
                                            id="password1"
                                            class="form-control"
                                            placeholder="Password"
                                            aria-label="Password"
                                            aria-describedby="basic-addon1"
                                            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                            style="border-top-right-radius: 10px;
                                            border-bottom-right-radius: 10px;"
                                            required
                                            />
                                            <div class="invalid-feedback"> Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters</div>
                                        </div>
                                        <label class="form-label">Confirm Password</label>
                                        <div class="input-group mb-3">
                                            <span
                                            class="input-group-text"
                                            id="basic-addon1"
                                            ><i
                                                class="bi bi-key"
                                                style="font-size: 1.4rem"
                                            ></i>
                                            </span>
                                            <input
                                            type="password"
                                            name="password2"
                                            id="password2"
                                            class="form-control"
                                            placeholder="Password"
                                            aria-label="Password"
                                            aria-describedby="basic-addon1"
                                            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                            style="border-top-right-radius: 15px;
                                            border-bottom-right-radius: 15px;"
                                            required
                                            />
                                            <div class="invalid-feedback"> Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters</div>
                                        </div>
                                        <label class="form-label">Email</label>
                                        <div class="input-group mb-3">
                                            <span
                                            class="input-group-text"
                                            id="basic-addon1"
                                            ><i
                                                class="bi bi-envelope"
                                                style="font-size: 1.4rem"
                                            ></i>
                                            </span>
                                            <input
                                            type="email"
                                            name="email"
                                            id="email"
                                            class="form-control"
                                            placeholder="name@example.com"
                                            aria-label="Email"
                                            aria-describedby="basic-addon1"
                                            style="border-top-right-radius: 15px;
                                            border-bottom-right-radius: 15px;"
                                            required
                                            />
                                            <div class="invalid-feedback"> Please enter the email. </div>
                                        </div>

                                        <label class="form-label">Title</label>
                                        <div class="input-group mb-3">
                                            <span
                                            class="input-group-text"
                                            id="basic-addon1"
                                            ><i
                                                class="bi bi-person-vcard"
                                                style="font-size: 1.4rem"
                                            ></i>
                                            </span>
                                            <input
                                            type="text"
                                            name="title"
                                            id="title"
                                            class="form-control"
                                            placeholder="Ms/Mr."
                                            aria-label="Given Name"
                                            aria-describedby="basic-addon1"
                                            style="border-top-right-radius: 15px;
                                            border-bottom-right-radius: 15px;"
                                            required
                                            />
                                            <div class="invalid-feedback"> Please enter the Title </div>
                                        </div>
                        
                                        <label class="form-label">First Name</label>
                                        <div class="input-group mb-3">
                                            <span
                                            class="input-group-text"
                                            id="basic-addon1"
                                            ><i
                                                class="bi bi-person-vcard"
                                                style="font-size: 1.4rem"
                                            ></i>
                                            </span>
                                            <input
                                            type="text"
                                            name="given_name"
                                            id="given_name"
                                            class="form-control"
                                            placeholder="Given Name"
                                            aria-label="Given Name"
                                            aria-describedby="basic-addon1"
                                            style="border-top-right-radius: 15px;
                                            border-bottom-right-radius: 15px;"
                                            required
                                            />
                                            <div class="invalid-feedback"> Please enter the First Name </div>
                                        </div>
                        
                                        <label class="form-label">Family Name</label>
                                        <div class="input-group mb-3">
                                            <span
                                            class="input-group-text"
                                            id="basic-addon1"
                                            ><i
                                                class="bi bi-person-vcard"
                                                style="font-size: 1.4rem"
                                            ></i>
                                            </span>
                                            <input
                                            type="text"
                                            name="family_name"
                                            id="family_name"
                                            class="form-control"
                                            placeholder="Last Name"
                                            aria-label="Last Name"
                                            aria-describedby="basic-addon1"
                                            style="border-top-right-radius: 15px;
                                            border-bottom-right-radius: 15px;"
                                            required
                                            />
                                            <div class="invalid-feedback"> Please enter the Last Name </div>
                                        </div>
                                        <label class="form-label">Address</label>
                                        <div class="input-group mb-3">
                                            <span
                                            class="input-group-text"
                                            id="basic-addon1"
                                            ><i
                                                class="bi bi-person-vcard"
                                                style="font-size: 1.4rem"
                                            ></i>
                                            </span>
                                            <input
                                            type="text"
                                            name="address"
                                            id="address"
                                            class="form-control"
                                            placeholder="3 Greenlane...."
                                            aria-label="Last Name"
                                            aria-describedby="basic-addon1"
                                            style="border-top-right-radius: 15px;
                                            border-bottom-right-radius: 15px;"
                                            required
                                            />
                                            <div class="invalid-feedback"> Please enter your address </div>
                                        </div>
                                        <div class="mb-3 mt-3">
                                            <label class="form-label" >Choose Your City</label>
                                            <select class="selectpart1 mb-2 p-1" id="city" 
                                            name="city" style="width: 100%; height: 48px; border-radius: 15px;">
                                            <option selected value="{{depot_all[0][0]}}">{{depot_all[0][1]}}</option>
                                            <option value="{{depot_all[1][0]}}">{{depot_all[1][1]}}</option>
                                            <option value="{{depot_all[2][0]}}">{{depot_all[2][1]}}</option>
                                            <option value="{{depot_all[3][0]}}">{{depot_all[3][1]}}</option>
                                            <option value="{{depot_all[4][0]}}">{{depot_all[4][1]}}</option>

                                            </select>
                                        </div>
                                        <div class="mb-3 col-md-6">
                                            <label class="fw-bold">Phone:</label>
                                            <input
                                              type="number"
                                              class="form-control"
                                              id="phone"
                                              name="phone"
                                              placeholder="04..."
                                              min="0"
                                              step="1"
                                              required
                                            />
                                            <div class="invalid-feedback">
                                              Please enter your Phone number
                                            </div>
                                          </div>
                                        <div class="msg">{{ msg }}</div>
                                        <div class="modal-footer">
                                          <input type="submit" id="settings-button">  
                                          <button type="button" class="btn btn-label-secondary" data-bs-dismiss="modal">Close</button>
                                        </div>
                                      </form>
                                </div>
                            </div>
                        </div>
                       
                    </div>
                </div>
                </div>
            </div>
          </div>
        </div>
      </div>
                <!--modal ends-->
           </div>
        </div>
      </div>
    </div>
    
  </section>
  {% if registered %}
  <script>
    window.onload = function () {
      alert('Registration successful! You can now log in.')
    }
  </script>
  {% endif %} 
<script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"
  ></script>
<script>
  // Example starter JavaScript for disabling form submissions if there are invalid fields
  ;(() => {
    'use strict'

    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    const forms = document.querySelectorAll('.needs-validation')

    // Loop over them and prevent submission
    Array.from(forms).forEach((form) => {
      form.addEventListener(
        'submit',
        (event) => {
          if (!form.checkValidity()) {
            event.preventDefault()
            event.stopPropagation()
          }

          form.classList.add('was-validated')
        },
        false
      )
    })
  })()
</script>
  {% endblock content %}
  