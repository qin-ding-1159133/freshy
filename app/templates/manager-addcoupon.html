{% extends "layouts/manager.html" %} {% block title %} {% endblock %} {% block stylesheets %} {{ super() }}
<link
  href="{{ url_for('static', filename='assets/css/Dashboard.css') }}"
  rel="stylesheet"
/>
{% endblock %} {% block content %} 
    <div class="container-xxl flex-grow-1 container-p-y">
       
        
          <h4 class="mb-4">
            <span class="text-muted fw-light">Manage Coupon / <a href="{{ url_for('manager_coupon_list') }}" class="text-muted fw-light" style="text-decoration: none;">Produce List</a> /</span> 

            Add Coupon
          </h4>

          <div class="card mb-4 p-5">
            <form
              action="/manager/addcoupon"
              method="POST"
              class="form needs-validation"
              enctype="multipart/form-data"
              novalidate
            >
              <!--list profile-->
              <div class="row">
                <div class="mb-3 col-md-6">
                  <label class="fw-bold"><h6>Coupon ID:</h6></label>
                  <input
                    class="form-control"
                    id="new_coupon_id"
                    name="new_coupon_id"
                    value="{{new_coupon_id}}"
                    style="font-family: var(--color-text); background-color: #f5f5f5;"
                    readonly
                  />
                </div>



                <div class="mb-3 col-md-6">
                  <label class="fw-bold"><h6>Coupon Code:</h6></label>
                  <input
                    class="form-control"
                    type="text"
                    name="couponcode"
                    id="couponcode"
                    placeholder="Coupon code"
                    style="font-family: var(--color-text);"
                    pattern="^[A-Za-z0-9]+$"
                    title="Please enter a valid Coupon Code (letters and numbers only without space)"
                    required
                  />
                  
                  <div class="invalid-feedback">
                    Please enter a valid Coupon code (letters and numbers only without space)
                  </div>
                </div>

    
 
                  <div class="mb-3 col-md-6">
                    <label class="fw-bold"><h6>Reduced value (NZ$): </h6></label>
                    <input
                      type="number"
                      step="0.01"
                      class="form-control"
                      id="reducevalue"
                      name="reducevalue"
                      placeholder="0.00"
                      size="10"
                      style="font-family: var(--color-text);"
                      required
                      min="0"
                    />
                    <div class="invalid-feedback">
                      Please enter a reduce value.
                    </div>
                  </div>

                  <div class="mb-3 col-md-6">
                    <label class="fw-bold"><h6>for price over (NZ$): </h6></label>
                    <input
                      type="number"
                      step="0.01"
                      class="form-control"
                      id="thresvalue"
                      name="thresvalue"
                      placeholder="0.00"
                      size="10"
                      style="font-family: var(--color-text);"
                      required
                      min="0"
                    />
                    <div class="invalid-feedback">
                      Please enter a price value.
                    </div>
                  </div>

                  <div class="mb-3 col-md-6">
                    <label class="fw-bold"><h6>Choose Start Time:</h6></label>
                    <input
                      type="date"
                      class="form-control"
                      id="start_time"
                      name="start_time"
                      min="{{todaydate}}"
                      required
                    />
                    <div class="invalid-feedback">Please enter the start time.</div>
                  </div>
          
                  <div class="mb-3 col-md-6">
                    <label class="fw-bold"><h6>Choose End Time:</h6></label>
                    <input
                      type="date"
                      class="form-control"
                      id="end_time"
                      name="end_time"
                      min="{{todaydate}}"
                      required
                    />
                    <div class="invalid-feedback">Please enter the end time.</div>
                  </div>






  
                <div style="background-color: rgb(240, 215, 183);background-size: 10px;">{{ msg }}</div>
                <div class="mt-2">
                  <button
                    type="submit"
                    id="settings-button"
                  >
                    Submit
                  </button>

                </div>
              </div>
            </form>
          </div>
       
      
    </div>
    
    <script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (() => {
    'use strict'

    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    const forms = document.querySelectorAll('.needs-validation')

    // Loop over them and prevent submission
    Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
    if (!form.checkValidity()) {
    event.preventDefault()
    event.stopPropagation()
    }

    form.classList.add('was-validated')
    }, false)
    })
    })()
    </script>


   
  {% endblock content %}


